<h2>{{action}} HouseHold</h2>

<script type="text/ng-template" id="formfield2.html">
    <div id="template">
        <div class="control-group">
            <label class="control-label" for="{{ prop | lowercase}}">{{prop}}</label>

            <div class="controls" ng-transclude>
            </div>
        </div>
    </div>
</script>

<form name="houseform" class="form-horizontal">
    <formfield prop="Id" ng-model="house.id" type="text" ></formfield>
    <formfield prop="Phone" ng-model="house.phone" type="text" ></formfield>
    <formfield prop="Address" ng-model="house.address" type="text" ></formfield>
    <formfield prop="City" ng-model="house.city" type="text" ></formfield>
    <formfield prop="Zip" ng-model="house.zip" type="text" ></formfield>
    <formfield prop="E-mail" ng-model="house.email" type="email" ></formfield>
    <formfield prop="Initial Visit" ng-model="house.initialVisit" type="date" ></formfield>
    <formfield prop="Renewal" ng-model="house.renew" type="date" ></formfield>
    <div class="btn-group">
        <a class="btn btn-large btn-danger" ng-click="renew()" ng-class="{disabled: index < 0}">Renew</a>
    </div>
    <formfield prop="Ethnicity" ng-model="house.ethnic" type="search" ></formfield>
    <formfield prop="# of People in house" ng-model="house.numpeople" type="numbers" ></formfield>


    <div class="active" name="peopleSection" ng-repeat="people in house.people">
        <formfield prop="Last Name" ng-model="people.lname" type="text" ></formfield>
        <formfield prop="First Name" ng-model="people.fname" type="text" ></formfield>
        <formfield prop="Birthdate" ng-model="people.bdate" type="date" ></formfield>
        <formfield prop="ID Type" ng-model="people.idtype" type="search" ></formfield>
        <formfield prop="Sex" ng-model="people.sex" type="search" ></formfield>
        <formfield prop="Head" ng-model="people.head" type="checkbox" ></formfield>
        <div class="btn-group">
            <a class="btn btn-large btn-danger" ng-click="delete($index)" ng-class="{disabled: index < 0}">Delete</a>
        </div>
    </div>


    <div class="btn-toolbar">
        <div class="btn-group">
            <a class="btn btn-large" ng-click="addPerson()"><i class="icon-plus"></i>Add</a>
        </div>
        <formfield prop="Last Name" ng-model="selectedpeople.lname" type="text" ></formfield>
        <formfield prop="First Name" ng-model="selectedpeople.fname" type="text" ></formfield>
        <formfield prop="Birthdate" ng-model="selectedpeople.bdate" type="date" ></formfield>
        <formfield prop="ID Type" ng-model="selectedpeople.idtype" type="search" ></formfield>
        <formfield prop="Sex" ng-model="selectedpeople.sex" type="search" ></formfield>
        <formfield prop="Head" ng-model="people.head" type="checkbox" ></formfield>
    </div>


    <div class="active" name="foodTaken" ng-repeat="foodtaken in house.foodtaken">
        <formfield prop="amount" ng-model="foodtaken.amount" type="number" ></formfield>
        <formfield prop="On" ng-model="foodtaken.date" type="date" ></formfield>
        <formfield prop="By" ng-model="foodtaken.by" type="text" ></formfield>
        <!--<formfield prop="time" ng-model="foodtaken.time" type="datetime" ></formfield>-->
    </div>


    <div class="btn-toolbar">
        <div class="btn-group">
            <a class="btn btn-large" ng-click="addFood()"><i class="icon-plus"></i>Add</a>
        </div>
        <formfield prop="amount" ng-model="foodtaken.amount" type="number" ></formfield>
        <formfield prop="On" ng-model="foodtaken.date" type="date" ></formfield>
        <formfield prop="By" ng-model="foodtaken.by" type="text" ></formfield>
    </div>


    <div class="form-actions">
        <button ng-click="save()" class="btn btn-primary">
            {{action}}
        </button>
        <a href="/" class="btn">Cancel</a>
    </div>
</form>